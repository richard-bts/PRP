"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[254],{7751:function(a,b,c){c.d(b,{E:function(){return j},R:function(){return m}});var d=c(5893),e=c(7294),f=c(5697),g=c.n(f),h=c(9743),i=c(7789),j=function(a){var b=a.searchText,c=a.handleSearch,f=(0,e.useRef)(),g=function(){f.current.focus()};return(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)("div",{className:"w-full md:w-96",children:(0,d.jsxs)("div",{className:"relative flex items-stretch w-full input-group search_bar",children:[(0,d.jsx)("input",{type:"search",className:"form-control relative flex-auto min-w-0 block w-full px-3 py-1.5 text-base font-normal bg-clip-padding transition ease-in-out m-0 focus:outline-none bg-transparent",placeholder:"Search By Name","aria-label":"Search","aria-describedby":"button-addon2",value:b,onChange:function(a){return c(a.target.value)},ref:f}),(0,d.jsx)(i.Ei,{onClick:g,btnColors:"bg-transparent",btnStyles:"cursor-default",children:(0,d.jsx)(h.Z,{className:"w-5 h-5 text-black"})})]})})})};j.propTypes={searchText:g().string.isRequired,handleSearch:g().func.isRequired};var k=c(4898),l=c(9074),m=function(a){var b=a.tbodyItems,c=a.tbodyTrStyles,e=a.tbodyTrColors,f=a.tbodyTrGridStyles,g=a.handleEditPartner,h=(0,l.C)(function(a){return a.partners}).currentPage;return(0,d.jsxs)("tbody",{children:[b.map(function(a,b){var i=a.id,j=a.clientId,l=a.partnerId,m=a.partnerName,n=a.email,o=void 0===n?[{partner_email:""}]:n,p=a.active,q=a.reportName,r=void 0===q?[]:q,s=a.reportTime;return(0,d.jsxs)("tr",{className:"h-20 items-center lg:items-start pt-3 xl:pt-6 table-partner-item select-none ".concat(c||"text-sm leading-normal"," ").concat(e||"text-gray-600 bg-white"," ").concat(f||""),children:[(0,d.jsxs)("td",{onDoubleClick:function(){return g({id:i,clientId:j,partnerId:l,partnerName:m,email:o,active:p,reportName:r})},className:"px-6 text-base text-left truncate cursor-pointer raleway-m max-h-16 table_text-black",title:m,children:[(0,d.jsx)("span",{className:"mr-5 table_text-black",children:h>1?(h-1)*10+(b+1):b+1})," ",m]}),(0,d.jsx)("td",{onDoubleClick:function(){return g({id:i,clientId:j,partnerId:l,partnerName:m,email:o,active:p,reportName:r})},className:"hidden max-h-full px-6 text-left cursor-pointer lg:grid",children:null==o?void 0:o.map(function(a,b){var c=a.partner_email;return b<3&&(0,d.jsx)("span",{className:"h-5 mb-1 text-base truncate table_text-black",children:null!=c?c:""},"".concat(c,"+").concat(b))})}),(0,d.jsx)("td",{onDoubleClick:function(){return g({id:i,clientId:j,partnerId:l,partnerName:m,email:o,active:p,reportName:r})},className:"hidden px-6 text-center cursor-pointer max-h-16 sm:block",children:p?(0,d.jsx)("span",{className:"block w-20 mx-auto text-base leading-8 text-center uppercase status active raleway-sb",children:"Active"}):(0,d.jsx)("span",{className:"block mx-auto text-base leading-8 text-center uppercase status inactive raleway-sb",children:"Inactive"})}),(0,d.jsx)("td",{onDoubleClick:function(){return g({id:i,clientId:j,partnerId:l,partnerName:m,email:o,active:p,reportName:r})},className:"relative justify-start hidden grid-flow-col gap-1 px-6 text-center cursor-pointer max-h-16 2xl:grid justify-items-center reports group",children:r.length>0?(0,d.jsx)(d.Fragment,{children:r.map(function(a,b){var c=a.report_name;return(0,d.jsx)("span",{className:"text-base text-white px-1 2xl:px-3 py-1 uppercase rounded-full whitespace-nowrap table__report-type ".concat(null==c?void 0:c.toLowerCase()),children:c},"".concat(c,"+").concat(b))})}):(0,d.jsx)("span",{children:"No reports"})}),(0,d.jsx)("td",{className:"grid justify-center grid-flow-col gap-5 px-6 py-3 text-center max-h-16 justify-items-center",children:(0,d.jsx)(k.Z,{className:"w-6 h-6 text-gray-700 transition-colors duration-300 cursor-pointer hover:text-cyan-600",title:"Edit",onClick:function(){return g({id:i,clientId:j,partnerId:l,partnerName:m,email:o,active:p,reportName:r,reportTime:s})}})})]},"".concat(m,"-").concat(l))}),!b.length&&(0,d.jsx)("tr",{className:"h-20 border-b border-gray-200 md:h-20 table-partner-item",children:(0,d.jsx)("td",{className:"text-lg font-medium text-center text-gray-400 uppercase",children:"NO PARTNERS TO SHOW"})})]})};m.propTypes={tbodyItems:g().arrayOf(g().shape({id:g().number,partnerName:g().string.isRequired,email:g().array,active:g().number.isRequired,reportName:g().array})).isRequired,tbodyTrStyles:g().string,tbodyTrColors:g().string,tbodyTrGridStyles:g().string,handleEditPartner:g().func.isRequired}},7789:function(a,b,c){c.d(b,{"O$":function(){return i},ZR:function(){return j},Ei:function(){return k},h4:function(){return q},Ar:function(){return t},yX:function(){return u},wp:function(){return v},V1:function(){return w},tl:function(){return x},YE:function(){return z},iA:function(){return ai},ss:function(){return aj}});var d=c(5893),e=c(5697),f=c.n(e),g=c(1163),h=c(7294),i=function(a){var b=a.label,c=a.href,e=a.stylesClass,f=a.navPath,i=(0,g.useRouter)(),j=(0,h.useState)(i.pathname===f),k=j[0],l=j[1],m=k?"md:text-white raleway-eb cursor-default":"nav_link-inactive",n=function(a){a.preventDefault(),l(!0),i.push(c)};return((0,h.useEffect)(function(){l(i.pathname===f)},[i.pathname]),k)?(0,d.jsx)("a",{className:"".concat(m," ").concat(e),children:b}):(0,d.jsx)("a",{href:c,onClick:n,className:"".concat(m," ").concat(e),children:b})};i.propTypes={label:f().string.isRequired,href:f().string.isRequired,stylesClass:f().string,navPath:f().string.isRequired};var j=function(a){var b=a.handleIsOpen,c=a.isOpen,e=a.genericHamburgerLine;return(0,d.jsxs)("button",{className:"fixed z-30 flex flex-col items-center justify-center w-12 h-12 shadow-md border-2 border-white transition-opacity duration-300 rounded group right-5 top-5 md:hidden hover:opacity-100 ".concat(c?"":"sidebar opacity-50"," "),onClick:b,children:[(0,d.jsx)("div",{className:"".concat(e," ").concat(c?"rotate-45 translate-y-3 group-hover:opacity-100":"group-hover:opacity-100 sidebar")}),(0,d.jsx)("div",{className:"".concat(e," ").concat(c?"opacity-0":"group-hover:opacity-100 sidebar")}),(0,d.jsx)("div",{className:"".concat(e," ").concat(c?"-rotate-45 -translate-y-3 group-hover:opacity-100":"group-hover:opacity-100 sidebar")})]})};j.propTypes={handleIsOpen:f().func.isRequired,isOpen:f().bool.isRequired,genericHamburgerLine:f().string.isRequired};var k=function(a){var b=a.children,c=a.onClick,e=a.btnColors,f=a.btnStyles,g=a.btnLabel,h=a.labelStyles,i=a.labelColors,j=a.buttonSpacing,k=a.iconOnRight;return(0,d.jsxs)("button",{className:"btn btn_icon focus:outline-none focus:ring-0 active:shadow-lg transition duration-300 ease-in-out flex items-center ".concat(f||"rounded-tr rounded-br"," ").concat(e||"bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600 active:bg-indigo-600"," ").concat(j||"px-4 py-2.5"),type:"button",id:"button-addon2",onClick:function(){return c()},children:[!k&&b,g&&(0,d.jsx)("span",{className:"font-medium tracking-wide ".concat(i||"text-white"," ").concat(h||""),children:g}),k&&b]})};k.propTypes={children:f().node,onClick:f().func.isRequired,btnColors:f().string,btnStyles:f().string,btnLabel:f().string,labelStyles:f().string,labelColors:f().string};var l=c(1664),m=c.n(l),n=c(5675),o=c.n(n),p=c(3303),q=function(){var a=(0,g.useRouter)(),b=(0,h.useState)(a.pathname===p.FV[0].navPath),c=b[0],e=b[1];return(0,h.useEffect)(function(){e(a.pathname===p.FV[0].navPath)},[a.pathname]),(0,d.jsx)("header",{className:"sticky top-0 z-10 md:top-auto md:static md:z-auto header-tag primary-blue",children:(0,d.jsxs)("div",{className:"container flex items-center h-full min-w-full p-5 md:p-0 md:px-4",children:[c?(0,d.jsx)("a",{className:"flex items-center gap-3 cursor-default",children:(0,d.jsx)(o(),{alt:"Last Mile Logo",className:"w-16",width:106,height:50,src:"/img/last_mile_logo.png",title:"Last-Mile-Logo"})}):(0,d.jsx)(m(),{href:"".concat(p.FV[0].to),children:(0,d.jsx)("a",{className:"flex items-center gap-3",children:(0,d.jsx)(o(),{alt:"Last Mile Logo",className:"w-16",width:106,height:50,src:"/img/last_mile_logo.png",title:"Last-Mile-Logo"})})}),(0,d.jsx)(v,{})]})})},r=c(9008),s=c.n(r),t=function(a){var b=a.children,c=a.headTitle;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(z,{}),(0,d.jsxs)(s(),{children:[(0,d.jsx)("title",{children:"Partner Reporting Package - ".concat(c)}),(0,d.jsx)("meta",{name:"description",content:"CDL Last Mile partner reporting package"}),(0,d.jsx)("link",{rel:"apple-touch-icon",sizes:"152x152",href:"".concat("/Xcelerator/CDLPRP","/apple-touch-icon.png")}),(0,d.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"".concat("/Xcelerator/CDLPRP","/favicon-32x32.png")}),(0,d.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"".concat("/Xcelerator/CDLPRP","/favicon-16x16.png")}),(0,d.jsx)("link",{rel:"manifest",href:"".concat("/Xcelerator/CDLPRP","/site.webmanifest")}),(0,d.jsx)("link",{rel:"mask-icon",href:"".concat("/Xcelerator/CDLPRP","/safari-pinned-tab.svg"),color:"#5bbad5"}),(0,d.jsx)("meta",{name:"msapplication-TileColor",content:"#da532c"}),(0,d.jsx)("meta",{name:"theme-color",content:"#ffffff"})]}),(0,d.jsx)(q,{}),(0,d.jsx)("div",{className:"container px-4",children:b})]})};t.propTypes={children:f().node.isRequired,headTitle:f().string.isRequired};var u=function(a){var b=a.navItems,c=a.classStyles;return(0,d.jsx)(d.Fragment,{children:b.map(function(a){var b=a.to,e=a.label,f=a.navPath;return(0,d.jsx)(i,{href:b,label:e,stylesClass:c,navPath:f},e)})})};u.propTypes={navItems:f().arrayOf(f().shape({to:f().string.isRequired,label:f().string.isRequired})).isRequired};var v=function(){return(0,d.jsx)("nav",{className:"relative hidden mx-auto md:block navbar",children:(0,d.jsx)(u,{navItems:p.FV,classStyles:"px-4 transition duration-300 hover:text-white font-medium"})})},w=function(a){var b=a.title;return(0,d.jsx)("h2",{className:"text-xl font-bold table_text-black",children:b})};w.propTypes={title:f().string.isRequired};var x=function(a){for(var b=a.partnersPerPage,c=a.totalPartners,e=a.handleChangePage,f=a.currentPage,g=[],h=Math.ceil(c/b),i=f>1,j=f<h,k=0;k<h;k++)g.push(k+1);return(0,d.jsxs)("div",{className:"grid items-center justify-center mt-5 gap-y-5 md:grid-flow-col md:justify-between justify-items-center pagination",children:[(0,d.jsxs)("span",{className:"current-pagination",children:["Showing ",10*f>c?c:10*f," of ",c]}),j||i?(0,d.jsxs)("div",{className:"flex items-center gap-2 pagination_buttons",children:[(0,d.jsx)("button",{className:"grid items-center grid-flow-col gap-1 px-4 py-2 text-base raleway-bl",onClick:function(){return i?e(f-1):null},children:(0,d.jsx)("span",{children:"Previous"})}),g.map(function(a){return(0,d.jsx)("button",{className:"raleway-bl text-base w-6 h-6 leading-5 ".concat(f===a?"current-page cursor-default bg-black text-white rounded-sm":f===a-1?"bg-white next-page":"bg-white"," ").concat(a>f+2||a<f-2?"hidden":""," pagination-item"),onClick:function(){return e(a)},children:a},a)}),(0,d.jsx)("button",{className:"grid items-center grid-flow-col gap-1 px-4 py-2 text-base raleway-bl",onClick:function(){return j?e(f+1):null},children:(0,d.jsx)("span",{children:"Next"})})]}):null]})};x.propTypes={partnersPerPage:f().number.isRequired,totalPartners:f().number.isRequired,handleChangePage:f().func.isRequired,currentPage:f().number.isRequired};var y=c(2281),z=function(){var a=(0,y.CG)(function(a){return a.sidebar}).isOpen,b=(0,y.TL)(),c=function(){a?b((0,y.mu)()):b((0,y.Sl)())},e=function(a){a.target.classList.contains("sidebar")||b((0,y.mu)())};return(0,d.jsxs)("section",{className:"fixed z-30 w-screen h-screen md:hidden transition-colors duration-300 ".concat(a?"bg-slate-200/50 ml-0":"-ml-96"),onClick:e,children:[(0,d.jsx)("aside",{className:"sidebar fixed top-0 left-0 z-20 flex flex-col w-60 h-full py-8 bg-white shadow-lg gap-7 transition-all duration-300 md:hidden ".concat(a?"ml-0":"-ml-96"),children:(0,d.jsx)(u,{navItems:p.FV,classStyles:"block h-10 text-xl leading-10 px-8 transition duration-300 hover:text-black sidebar"})}),(0,d.jsx)(j,{handleIsOpen:c,isOpen:a,genericHamburgerLine:"h-1 w-6 my-1 rounded-full bg-white transition ease transform duration-300"})]})},A=c(1355),B=c(8131),C=function(a){var b=a.isOpen,c=a.setIsOpen,e=a.onClick,f=a.title,g=a.description,i=a.colorsPrimaryBoton,j=a.buttonTitle,k=a.showButton,l=function(){c(!1)},m=function(){l(),e()};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(A.u,{appear:!0,show:b,as:h.Fragment,children:(0,d.jsxs)(B.V,{as:"div",className:"relative z-50",onClose:l,children:[(0,d.jsx)(A.u.Child,{as:h.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,d.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,d.jsx)("div",{className:"flex items-center justify-center min-h-full p-4 text-center",children:(0,d.jsx)(A.u.Child,{as:h.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,d.jsxs)(B.V.Panel,{className:"w-full max-w-md p-6 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[(0,d.jsx)(B.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:f}),(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsx)("p",{className:"text-sm text-gray-500",children:g})}),(void 0===k||k)&&(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[(0,d.jsx)("button",{type:"button",className:"".concat(i||"bg-indigo-500 border border-transparent rounded-md hover:bg-indigo-600 focus:bg-indigo-600 active:bg-indigo-600 text-white"," inline-flex justify-center px-4 py-2 text-sm font-medium transition duration-300 border border-transparent rounded-md focus:outline-none focus-visible:ring-2"),onClick:m,children:j}),(0,d.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-indigo-600 transition duration-300 bg-white border border-transparent rounded-md hover:border-indigo-500 focus:border-indigo-500 active:border-indigo-500 focus:outline-none focus-visible:ring-2 ",onClick:l,children:"Cancel"})]})]})})})})]})})})};C.propTypes={isOpen:f().bool.isRequired,setIsOpen:f().func.isRequired,onClick:f().func.isRequired,title:f().string.isRequired,description:f().string.isRequired,colorsPrimaryBoton:f().string,buttonTitle:f().string.isRequired,showButton:f().bool};var D=c(7568),E=c(1799),F=c(9396),G=c(9534),H=c(797),I=c(4051),J=c.n(I),K=c(381),L=c.n(K),M=c(6455),N=c.n(M),O=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"success",c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"center",d=arguments.length>3&& void 0!==arguments[3]&&arguments[3],e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:1500;N().fire({position:c,icon:b,title:a,showConfirmButton:d,timer:e})},P=c(7407),Q={partnerName:{error:!1,errorMessage:""},email:{error:!1,errorMessage:""}},R=L()(),S=function(){var a,b,c=(0,y.TL)(),d=(0,y.CG)(function(a){return a.partners}).activePartner,e=d||p.Ts,f=e.clientId,g=e.partnerId,i=e.partnerName,j=e.email,k=e.active,l=e.reportName,m=e.reportTime,n=(0,h.useState)(k||0),o=n[0],q=n[1],r=(0,h.useState)([]),s=r[0],t=r[1],u=(0,h.useState)([]),v=u[0],w=u[1],x=(0,h.useState)([]),z=x[0],A=x[1],B=(0,h.useState)(m?new Date(m):R.toDate()),C=B[0],I=B[1],K=p.Tr.map(function(a){var b=null==l?void 0:l.find(function(b){return(null==b?void 0:b.report_name)===(null==a?void 0:a.report_name)});return(0,F.Z)((0,E.Z)({},a),{active:(null==b?void 0:b.active)?b.active:0})}),M=(0,h.useState)((0,H.Z)(K)),N=M[0],S=M[1],T=(0,h.useState)(Q),U=T[0],V=T[1],W=(0,h.useState)({clientId:f||"",partnerId:g||Math.floor(1e6*Math.random()),partnerName:i||"",email:(null==j?void 0:j.length)?(0,H.Z)(j):[{partner_id:g,partner_email:""}]}),X=W[0],Y=W[1],Z=(null==X?void 0:null===(a=X.partnerName)|| void 0===a?void 0:a.length)!==0,$=(0,h.useState)(Z),_=$[0],aa=$[1],ab=function(a,b){S(function(c){return c.map(function(c){return c.report_name===b?(0,F.Z)((0,E.Z)({},c),{active:a}):c})})},ac=function(a){I(a)},ad=function(){Y((0,F.Z)((0,E.Z)({},X),{email:(0,H.Z)(X.email).concat([{partner_id:g,partner_email:""}])}))},ae=function(a){Y((0,F.Z)((0,E.Z)({},X),{email:X.email.filter(function(b,c){return c!==a})})),A(function(b){var c=X.email[a].partner_email_id;if(!c)return b;var d=X.email.find(function(a){return a.partner_email_id===c});return(0,H.Z)(b).concat([d])})},af=function(a,b,c){var d=a.target.value,e=(0,H.Z)(X.email);if(e[b]=(0,F.Z)((0,E.Z)({},e[b]),{partner_email:d}),Y((0,F.Z)((0,E.Z)({},X),{email:e})),c){var f=X.email.find(function(a){return a.partner_email_id===c}),h=(f.partner_email,(0,G.Z)(f,["partner_email"]));t((0,H.Z)(s).concat([(0,F.Z)((0,E.Z)({},h),{email:d})]))}else w((0,H.Z)(v).concat([{partner_id:g,partner_email:d}]))},ag=function(a){var b=a.companyName,c=a.clientID;if(!b.length){V((0,F.Z)((0,E.Z)({},U),{partnerName:{error:!0,errorMessage:"Company name is required"}}));return}b.length>2?aa(!0):aa(!1),V((0,F.Z)((0,E.Z)({},U),{partnerName:{error:!1,errorMessage:""}})),Y((0,F.Z)((0,E.Z)({},X),{partnerName:b,clientId:c}))},ah=(b=(0,D.Z)(J().mark(function a(){var b,e,f,g,h,i,j,k,l,m,n,r,s,t;return J().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b=X.partnerId,e=X.partnerName,f=X.email,g=X.clientId,!(!e.length||e.length<3)){a.next=4;break}return V((0,F.Z)((0,E.Z)({},U),{partnerName:{error:!0,errorMessage:"Name must be at least 3 characters"}})),a.abrupt("return");case 4:if(!(U.email.error||U.partnerName.error)){a.next=6;break}return a.abrupt("return");case 6:if(V(Q),i={client_id:g,partner_id:b,partner_emails:h=f.filter(function(a){return a.partner_email.length>0}),partner_name:e,partner_report_types:(0,H.Z)(N),partner_report_time:L()(C).format(),partner_active:o},Y(p.Ts),!d.id){a.next=19;break}return j=i.partner_active,k=(0,G.Z)(i,["partner_active"]),l=(0,F.Z)((0,E.Z)({},k),{active:j}),a.next=15,c((0,P.Jq)({partnerToEdit:l,deletedEmails:z}));case 15:(m=a.sent.payload)?O("Partner data successfully saved"):O("Error saving partner data","error"),a.next=24;break;case 19:return n=i.partner_id,r=i.active,s=(0,G.Z)(i,["partner_id","active"]),a.next=22,c((0,P.fr)(s));case 22:(t=a.sent.payload)?O("Partner data successfully saved"):O("Error saving partner data","error");case 24:q(0),c((0,y.Fn)({}));case 26:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)});return{name:X.partnerName,email:X.email,handleTypeReport:ab,handleFormChange:ag,handleSubmitForm:ah,handleAddEmail:ad,handleSaveEmail:af,isActivePartner:o,setIsActivePartner:q,reportName:N,setErrorForm:V,handleRemoveEmail:ae,errorForm:U,isValidData:_,handleChangeDateTime:ac,reportDate:C}},T=c(3933),U=function(a){var b=a.switchEnabled,c=a.setSwitchEnabled,e=a.isTypeReport,f=a.typeReport,g=a.handleTypeReport;return(0,d.jsxs)("div",{className:"flex items-center justify-between partner__form-switch",children:[e&&(0,d.jsx)("span",{className:"pl-4 text-sm text-center form_type-report",children:f.replace("_"," ")}),(0,d.jsxs)(T.r,{checked:b,name:e?f:"isActive",onChange:function(a){return e?g(a?1:0,f):c(a?1:0)},className:"".concat(b?"form__partner-switch-active":"form__partner-switch-inactive"," relative inline-flex h-5 w-8 items-center rounded-full transition-colors duration-300 ").concat(e?"my-2":""),children:[(0,d.jsx)("span",{className:"sr-only",children:"Active Partner"}),(0,d.jsx)("span",{className:"inline-block transition-transform duration-300 transform bg-white rounded-full active__circle"})]})]})};U.propTypes={switchEnabled:f().bool.isRequired,setSwitchEnabled:f().func,isTypeReport:f().bool,typeReport:f().string,handleTypeReport:f().func};var V=c(2633),W=c(8163),X=c(8607),Y=c(8057),Z=function(a){var b=a.errorMessage,c=a.error;return(0,d.jsx)("span",{className:"".concat(c?"opacity-100":"opacity-0"," font-medium transition-opacity duration-300 mt-2 text-red-600 text-sm"),children:b})};Z.propTypes={errorMessage:f().string.isRequired,error:f().bool.isRequired};var $=function(a){var b,c=a.value,e=a.placeholder,f=a.errorMessage,g=a.error,i=a.handleFormChange,j=(0,y.TL)(),k=(0,y.CG)(function(a){return a.partners}),l=k.isLoading,m=k.companyNamesOptions,n=(0,h.useState)({companyName:c}),o=n[0],p=n[1],q=(0,h.useState)(""),r=q[0],s=q[1],t=(b=(0,D.Z)(J().mark(function a(){return J().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j((0,P.Al)(r));case 2:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)});(0,h.useEffect)(function(){r<2||t()},[r]);var u=function(a){p(a),i(a)};return(0,d.jsxs)("div",{className:"w-full top-16",children:[(0,d.jsx)("label",{className:"pb-2 pl-4 text-sm text-gray-700 first-letter:uppercase",children:"Clients Name"}),(0,d.jsx)(X.h,{value:o,onChange:function(a){return u(a)},children:(0,d.jsxs)("div",{className:"relative z-50 mt-1",children:[(0,d.jsx)("div",{className:"relative w-full overflow-hidden text-left cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-teal-300 sm:text-sm",children:(0,d.jsx)(X.h.Input,{className:"w-full py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 border-none outline-none form__partner-input form_input focus:ring-0",displayValue:function(a){return a.companyName},onChange:function(a){return s(a.target.value)},placeholder:e,autoComplete:"off"})}),(0,d.jsx)(A.u,{as:h.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:function(){return s("")},children:(0,d.jsxs)(X.h.Options,{className:"absolute w-full py-1 mt-1 overflow-auto text-base bg-gray-200 rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:[l&&(0,d.jsx)("div",{className:"w-10 h-10 mx-auto my-3 border-2 border-indigo-500 border-dashed rounded-full animate-spin border-t-transparent"}),l||m.length&&!(r.length<2)?!l&&m.map(function(a){return(0,d.jsx)(X.h.Option,{className:function(a){var b=a.active;return"relative cursor-default select-none py-2 pl-10 pr-4 ".concat(b?"bg-teal-600 text-white":"text-gray-900")},value:a,children:function(b){var c=b.selected,e=b.active;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"block truncate ".concat(c?"font-medium":"font-normal"),children:a.companyName}),c?(0,d.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 ".concat(e?"text-white":"text-teal-600"),children:(0,d.jsx)(Y.Z,{className:"w-5 h-5","aria-hidden":"true"})}):null]})}},a.clientID)}):(0,d.jsx)("div",{className:"relative px-4 py-2 text-gray-700 cursor-default select-none",children:"Nothing found"})]})})]})}),(0,d.jsx)(Z,{errorMessage:f,error:g})]})};$.propTypes={value:f().string,handleFormChange:f().func.isRequired,errorMessage:f().string.isRequired,error:f().bool.isRequired,placeholder:f().string.isRequired};var _=function(a){var b=a.handleClick,c=a.buttonText;return a.isPrimary?(0,d.jsx)("button",{type:"button",className:"inline-flex items-center justify-center h-full px-4 py-2 text-sm font-medium text-white transition duration-300 border border-transparent rounded-md button__component button__component-primary focus:outline-none focus-visible:ring-2",onClick:b,children:c}):(0,d.jsx)("button",{type:"button",className:"inline-flex items-center justify-center h-full px-4 py-2 text-sm font-medium transition duration-300 border border-transparent rounded-md button__component button__component-second focus:outline-none focus-visible:ring-2",onClick:b,children:c})};_.propTypes={handleClick:f().func.isRequired,buttonText:f().string.isRequired,isPrimary:f().bool};var aa=function(a){var b=a.isOpen,c=a.setIsOpen,e=a.handleSubmitForm,f=a.handleCloseForm,g=a.name;a.errorForm;var i=function(){c(!1)},j=function(){i(),e(),f(null)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(A.u,{appear:!0,show:b,as:h.Fragment,children:(0,d.jsxs)(B.V,{as:"div",className:"relative z-50",onClose:i,children:[(0,d.jsx)(A.u.Child,{as:h.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,d.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,d.jsx)("div",{className:"flex items-center justify-center min-h-full p-4 text-center",children:(0,d.jsx)(A.u.Child,{as:h.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,d.jsxs)(B.V.Panel,{className:"w-full max-w-md p-6 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[(0,d.jsxs)(B.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:[g,"'s data"]}),(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Do you want to save the changes of this partner?"})}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-4",children:[(0,d.jsx)(_,{handleClick:j,buttonText:"Save data",isPrimary:!0}),(0,d.jsx)(_,{handleClick:i,buttonText:"Cancel"})]})]})})})})]})})})};aa.propTypes={isOpen:f().bool.isRequired,setIsOpen:f().func.isRequired,handleSubmitForm:f().func.isRequired,handleCloseForm:f().func.isRequired,name:f().string.isRequired};var ab=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ac=function(a){var b=a.children,c=a.index,e=a.inputValue,f=a.setErrorForm,g=a.handleSaveEmail,i=a.emailId,j=(0,h.useState)(e||""),k=j[0],l=j[1],m=(0,h.useState)({error:!1,errorMessage:""}),n=m[0],o=m[1],p=function(a){l(a.target.value),a.target.value.match(ab)?o({error:!1,errorMessage:""}):o({error:!0,errorMessage:"Email is not valid"})},q=function(a){if(n.error){f(function(a){return(0,F.Z)((0,E.Z)({},a),{email:{error:!0,errorMessage:"All emails must be valid"}})});return}f(function(a){return(0,F.Z)((0,E.Z)({},a),{email:{error:!1,errorMessage:""}})}),g(a,c,i)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"".concat(c>0?"pt-3":""," grid items-center email_container"),children:[(0,d.jsx)("input",{type:"email",className:"p-2 outline-none form_input form__partner-input",placeholder:"Email ".concat(c+1),name:k,value:k,onChange:function(a){return p(a)},onBlur:q,autoComplete:"off"}),b&&b]}),n.error&&(0,d.jsx)(Z,{errorMessage:n.errorMessage,error:n.error})]})};ac.propTypes={children:f().node,handleSaveEmail:f().func.isRequired,inputValue:f().string.isRequired,setErrorForm:f().func.isRequired,index:f().number.isRequired,emailId:f().number};var ad=c(945),ae=(0,d.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{d:"M0 17C0 18.7 1.3 20 3 20H17C18.7 20 20 18.7 20 17V9H0V17ZM17 2H15V1C15 0.4 14.6 0 14 0C13.4 0 13 0.4 13 1V2H7V1C7 0.4 6.6 0 6 0C5.4 0 5 0.4 5 1V2H3C1.3 2 0 3.3 0 5V7H20V5C20 3.3 18.7 2 17 2Z",fill:"black"})}),af=function(a){var b=a.reportDate,c=a.handleChangeDateTime;return(0,d.jsx)(ad.Z,{onChange:c,value:b,className:"text-sm form__partner-input form_input form_report-time",calendarIcon:ae})};af.propTypes={reportDate:f().object.isRequired,handleChangeDateTime:f().func.isRequired};var ag=function(a){var b=a.handleCloseForm,c=S(b),e=c.name,f=c.email,g=c.handleTypeReport,i=c.handleFormChange,j=c.handleSubmitForm,l=c.handleAddEmail,m=c.handleSaveEmail,n=c.isActivePartner,o=c.setIsActivePartner,p=c.errorForm,q=c.isValidData,r=c.reportName,s=c.setErrorForm,t=c.handleRemoveEmail,u=c.handleChangeDateTime,v=c.reportDate,w=(0,h.useState)(!1),x=w[0],y=w[1],z=function(a){a.preventDefault(),p.email.error||p.partnerName.error||y(!0)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"fixed top-0 left-0 z-40 flex flex-row flex-wrap min-h-screen bg-slate-200/50 md:p-12 w-100vw",children:(0,d.jsxs)("form",{className:"absolute w-11/12 p-5 m-0 overflow-y-auto bg-white form md:w-3/5 h-max top-2/4 left-2/4 -translate-x-2/4 -translate-y-2/4 partner-form",onSubmit:function(a){return z(a)},children:[(0,d.jsx)("h2",{className:"text-center uppercase raleway-b",children:"Partners Data"}),(0,d.jsx)($,{value:e,placeholder:"Clients name",handleFormChange:i,errorMessage:p.partnerName.errorMessage,error:p.partnerName.error}),(0,d.jsxs)("div",{className:"flex flex-col pt-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsx)("label",{className:"pl-4 text-sm text-gray-700 first-letter:uppercase",children:"Recipient Email"}),(0,d.jsx)(k,{btnLabel:"Add New Email",btnStyles:"rounded w-full btn__add-email justify-center px-2",labelStyles:"btn__add-email-label",onClick:l,btnDefaultSpacing:"px-2",children:(0,d.jsx)(V.Z,{className:"w-4 btn__add-email-icon"})})]}),f.length>0&&f.map(function(a,b){var c=a.partner_email,e=a.partner_email_id;return(0,d.jsx)(ac,{index:b,inputValue:c,emailId:e,setErrorForm:s,handleSaveEmail:m,children:(0,d.jsx)(k,{labelStyles:"hidden",btnStyles:"rounded-lg h-8 w-8 justify-self-end btn__remove-email justify-center",btnColors:"bg-red-500 hover:bg-red-600 focus:bg-red-600 active:bg-red-600",buttonSpacing:"p-1",onClick:function(){return t(b)},children:(0,d.jsx)(W.Z,{className:"w-4 h-4 text-white"})})},"".concat(c,"+").concat(b))}),p.email.error&&(0,d.jsx)(Z,{errorMessage:p.email.errorMessage,error:p.email.error})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 pt-4 partner__form-switch",children:[(0,d.jsx)("label",{className:"pl-4 text-sm text-gray-700",children:"Active"}),(0,d.jsx)(U,{switchEnabled:!!n,setSwitchEnabled:o})]}),(0,d.jsxs)("div",{className:"flex flex-col pt-4",children:[(0,d.jsx)("label",{className:"pb-2 pl-4 text-sm text-gray-700",children:"Partner Report Types"}),r.map(function(a,b){var c=a.report_name,e=a.active;return(0,d.jsx)(U,{switchEnabled:!!e,typeReport:c,isTypeReport:!0,handleTypeReport:g},"".concat(c,"-").concat(b))})]}),(0,d.jsxs)("div",{className:"flex flex-col pt-4",children:[(0,d.jsx)("label",{className:"pb-2 pl-4 text-sm text-gray-700",children:"Report Execution Time"}),(0,d.jsx)(af,{handleChangeDateTime:u,reportDate:v})]}),(0,d.jsxs)("div",{className:"grid justify-start gap-4 form_buttons-container",children:[(0,d.jsx)("button",{className:"".concat(q?"button__component-primary":"button__component-primary-default cursor-default"," rounded p-3 text-white transition-colors duration-300 raleway-b text-lg"),type:"submit",children:"Save"}),(0,d.jsx)(_,{buttonText:"Cancel",handleClick:b})]})]})}),(0,d.jsx)(aa,{setIsOpen:y,isOpen:x,handleSubmitForm:j,handleCloseForm:b,name:e})]})};ag.propTypes={handleCloseForm:f().func.isRequired};var ah=c(7751),ai=function(a){var b=a.theadItems,c=a.tbodyItems,e=a.theadTrGridStyles,f=a.theadTrColors,g=a.theadTrStyles,i=a.tbodyTrGridStyles,j=a.tbodyTrColors,k=a.tbodyTrStyles,l=a.tableStyles,m=a.handleCloseForm,n=a.handleEditPartner,o=(0,y.CG)(function(a){return a.partners}).openForm,p=(0,h.useState)(!1),q=p[0],r=p[1],s=(0,h.useState)({name:"",id:""}),t=s[0],u=s[1],v=function(){r(!0)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("table",{className:l,children:[(0,d.jsx)(aj,{theadItems:b,theadTrGridStyles:e,theadTrColors:f,theadTrStyles:g}),(0,d.jsx)(ah.R,{tbodyItems:c,tbodyTrGridStyles:i,tbodyTrColors:j,tbodyTrStyles:k,handleEditPartner:n,setPartnerToRemove:u,handleOpenPopup:v})]}),o&&(0,d.jsx)(ag,{handleCloseForm:m}),(0,d.jsx)(C,{isOpen:q,setIsOpen:r,onClick:function(){},title:"Remove partner",buttonTitle:"Remove",description:"Do you want to remove ".concat(t.name," from the list of partners?"),colorsPrimaryBoton:"bg-red-500 border border-transparent rounded-md hover:bg-red-600 focus:bg-red-600 active:bg-red-600 text-white"})]})};ai.propTypes={theadItems:f().array.isRequired,tbodyItems:f().array.isRequired,theadTrGridStyles:f().string.isRequired,tbodyTrGridStyles:f().string.isRequired,tableStyles:f().string.isRequired,handleCloseForm:f().func.isRequired,theadTrColors:f().string,theadTrStyles:f().string,tbodyTrColors:f().string,tbodyTrStyles:f().string};var aj=function(a){var b=a.theadItems,c=a.theadTrStyles,e=a.theadTrColors,f=a.theadTrGridStyles;return(0,d.jsx)("thead",{children:(0,d.jsx)("tr",{className:"".concat(c||"text-sm leading-normal rounded-tr raleway-m rounded-tl md:h-12"," ").concat(e||"text-gray-600"," ").concat(f||""),children:b.map(function(a,b){var c=a.label,e=a.stylesClasses;return(0,d.jsxs)("th",{className:"select-none ".concat(e," thead-item text-sm"),children:[0===b&&(0,d.jsx)("span",{className:"mr-5",children:"#"}),c]},c)})})})};aj.propTypes={theadItems:f().arrayOf(f().shape({label:f().string.isRequired,stylesClasses:f().string.isRequired})).isRequired,theadTrStyles:f().string,theadTrColors:f().string,theadTrGridStyles:f().string}},3303:function(a,b,c){c.d(b,{ht:function(){return e},Ts:function(){return g},FV:function(){return d},Tr:function(){return h},Fh:function(){return f}});var d=[{to:"".concat("/Xcelerator/CDLPRP","/"),navPath:"/",label:"Home"},{to:"".concat("/Xcelerator/CDLPRP","/partners"),navPath:"/partners",label:"Partners"}],e=[{title:"Scan Report",description:"Returns all package scans collected on the previous day.",iconName:"scan_icon"},{title:"POD Report",description:"Returns delivery data for all orders completed the previous day.",iconName:"pod_icon"},{title:"Exception Report",description:"Returns data for exceptions logged on orders the previous day.",iconName:"exception_icon"}],f=[{label:"Name",stylesClasses:"px-5 py-2	text-left"},{label:"Email Address",stylesClasses:"px-5 py-2	text-left hidden lg:block"},{label:"Status",stylesClasses:"px-5 py-2	text-center hidden sm:block"},{label:"Report Types",stylesClasses:"px-5 py-2	text-center hidden 2xl:block"},{label:"Action",stylesClasses:"px-5 py-2	text-center"}],g={partnerName:"",email:"",active:0,reportName:[{report_type_id:1,active:0,report_name:"Exception Report"},{report_type_id:2,active:0,report_name:"Scan Report"},{report_type_id:3,active:0,report_name:"POD Report"}]},h=[{report_type_id:1,active:0,report_name:"Exception Report"},{report_type_id:2,active:0,report_name:"Scan Report"},{report_type_id:3,active:0,report_name:"POD Report"}]},9074:function(a,b,c){c.d(b,{C:function(){return f},T:function(){return e}});var d=c(9473),e=function(){return(0,d.I0)()},f=d.v9},2281:function(a,b,c){c.d(b,{mu:function(){return d.mu},Fn:function(){return e.Fn},D4:function(){return e.D4},SL:function(){return e.SL},u4:function(){return e.u4},Sl:function(){return d.Sl},aU:function(){return e.aU},fC:function(){return e.fC},TL:function(){return f.T},CG:function(){return f.C}}),c(7245);var d=c(9778),e=c(8274),f=c(9074)}}])